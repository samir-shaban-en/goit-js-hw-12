{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport default function getImagesByQuery(query) {\n  return axios\n    .get('https://pixabay.com/api/', {\n      params: {\n        key: '50844575-9e292bfe2a1d78c665340f91a',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    })\n    .then(getAPIImages);\n}\n\nfunction getAPIImages(resolve) {\n  const hitsArray = resolve.data.hits;\n  if (hitsArray.length === 0) {\n    iziToast.warning({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n      color: 'red',\n    });\n    return;\n  }\n\n  return hitsArray;\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const ref = {\n  form: document.querySelector('.form'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nconst gallery = new SimpleLightbox('.gallery a', {});\n\nexport function createGallery(images) {\n  const imagesMArkup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class='gallery-item'>\n         <a href='${largeImageURL}'>\n         <img src='${webformatURL}' alt='${tags}' width='360'\n         />\n         </a>\n      <ul class='info-list'>\n      \n      <li class='info-item'>\n         <span>Likes</span>\n         <span>${likes}</span>\n        </li>\n\n        <li class='info-item'>\n          <span>views</span>\n         <span>${views}</span>\n         </li>\n\n         <li class='info-item'>\n          <span>comments</span>\n         <span>${comments}</span>\n         </li>\n\n         <li class='info-item'>\n          <span>downloads</span>\n         <span>${downloads}</span>\n         </li>\n       </ul>\n      </li>`;\n      }\n    )\n    .join('');\n\n  ref.gallery.insertAdjacentHTML('beforeend', imagesMArkup);\n\n  gallery.refresh();\n}\n\nexport function hideLoader() {\n  ref.loader.style.display = 'none';\n}\n\nexport function showLoader() {\n  ref.loader.style.display = 'block';\n}\n\nexport function clearGallery() {\n  ref.gallery.innerHTML = '';\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport getImagesByQuery from './js/pixabay-api';\nimport {\n  ref,\n  createGallery,\n  showLoader,\n  clearGallery,\n  hideLoader,\n} from './js/render-functions';\nhideLoader();\n\nref.form.addEventListener('submit', formSbmtHandler);\n\nfunction formSbmtHandler(e) {\n  e.preventDefault();\n  const input = e.currentTarget.elements.search.value.trim();\n  if (input === '') {\n    iziToast.warning({\n      message: 'The input is empty',\n      position: 'topRight',\n    });\n    e.currentTarget.reset();\n    return;\n  }\n\n  showLoader();\n\n  clearGallery();\n\n  getImagesByQuery(input)\n    .then(createGallery)\n    .catch(error =>\n      iziToast.warning({\n        message: `${error}`,\n        position: 'topRight',\n      })\n    )\n    .finally(hideLoader);\n\n  e.currentTarget.reset();\n}\n"],"names":["getImagesByQuery","query","axios","getAPIImages","resolve","hitsArray","iziToast","ref","gallery","SimpleLightbox","createGallery","images","imagesMArkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","hideLoader","showLoader","clearGallery","formSbmtHandler","e","input","error"],"mappings":"owBAIe,SAASA,EAAiBC,EAAO,CAC9C,OAAOC,EACJ,IAAI,2BAA4B,CAC/B,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,EACA,KAAKE,CAAY,CACtB,CAEA,SAASA,EAAaC,EAAS,CAC7B,MAAMC,EAAYD,EAAQ,KAAK,KAC/B,GAAIC,EAAU,SAAW,EAAG,CAC1BC,EAAS,QAAQ,CACf,QACE,2EACF,SAAU,WACV,MAAO,KACb,CAAK,EACD,MACD,CAED,OAAOD,CACT,CC5BO,MAAME,EAAM,CACjB,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEMC,EAAU,IAAIC,EAAe,aAAc,CAAE,CAAA,EAE5C,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAeD,EAClB,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,oBACKL,CAAa;AAAA,qBACZD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAO9BC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,iBAKLC,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,iBAKLC,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,iBAKRC,CAAS;AAAA;AAAA;AAAA,YAKrB,EACA,KAAK,EAAE,EAEVZ,EAAI,QAAQ,mBAAmB,YAAaK,CAAY,EAExDJ,EAAQ,QAAO,CACjB,CAEO,SAASY,GAAa,CAC3Bb,EAAI,OAAO,MAAM,QAAU,MAC7B,CAEO,SAASc,GAAa,CAC3Bd,EAAI,OAAO,MAAM,QAAU,OAC7B,CAEO,SAASe,GAAe,CAC7Bf,EAAI,QAAQ,UAAY,EAC1B,CC5DAa,IAEAb,EAAI,KAAK,iBAAiB,SAAUgB,CAAe,EAEnD,SAASA,EAAgBC,EAAG,CAC1BA,EAAE,eAAc,EAChB,MAAMC,EAAQD,EAAE,cAAc,SAAS,OAAO,MAAM,OACpD,GAAIC,IAAU,GAAI,CAChBnB,EAAS,QAAQ,CACf,QAAS,qBACT,SAAU,UAChB,CAAK,EACDkB,EAAE,cAAc,QAChB,MACD,CAEDH,IAEAC,IAEAtB,EAAiByB,CAAK,EACnB,KAAKf,CAAa,EAClB,MAAMgB,GACLpB,EAAS,QAAQ,CACf,QAAS,GAAGoB,CAAK,GACjB,SAAU,UAClB,CAAO,CACF,EACA,QAAQN,CAAU,EAErBI,EAAE,cAAc,OAClB"}